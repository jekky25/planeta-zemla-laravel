import{M as V}from"./MainLayout-BzcHKsFX.js";import{h as j,i as _,v as C,o as m,f as u,P as L,j as l,a as n,b as a,w as i,e as r,g,k as $,d as M,F as T}from"./app-B5JsSv7S.js";import{c as B,a as S,b as w,L as E,d as H,_ as U,e as F,S as I,G as N}from"./ajax-DzZeUtz3.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=["value"],D={__name:"Checkbox",props:{checked:{type:[Array,Boolean],required:!0},value:{default:null}},emits:["update:checked"],setup(s,{emit:e}){const h=e,b=s,t=j({get(){return b.checked},set(c){h("update:checked",c)}});return(c,d)=>_((m(),u("input",{type:"checkbox",value:s.value,"onUpdate:modelValue":d[0]||(d[0]=p=>t.value=p),class:"mr-2 border inputbox rounded focus:text-blue-600 ring-offset-0"},null,8,P)),[[C,t.value]])}},q={name:"Page",components:{Link:L,GoogleCaptcha:N,SubmitButton:I,TextInput:F,Textarea:U,Checkbox:D,LabelInput:H,LabelTextarea:E},layout:V,props:[],data(){return{name:"",subject:"",email:"",message:"",proba:"",recaptcha_response:"",copy:0,visible:!0,data:Object}},mixins:[B,S,w],methods:{getData(){this.$data.name=this.$refs.name.get(),this.$data.email=this.$refs.email.get(),this.$data.subject=this.$refs.subject.get(),this.$data.message=this.$refs.message.get(),this.$data._token=this.csrf_field,this.recaptcha_response=document.getElementById("recaptchaResponse").value,this.$data.copy=this.copy},send(){return this.clearParams(),this.checkName(this.$refs.name.get()),this.checkSubject(this.$refs.subject.get()),this.checkEMail(this.$refs.email.get()),this.checkMessage(this.$refs.message.get()),this.isError()||(this.getData(),this.ajax(route("feedback",this.$data))),!1},ajaxError(s){this.$data.errors+="<p>"+s.response.data.message+"</p>",this.reloadCaptcha()},ajaxSuccess(s){s.data.success==1&&(this.success="<p>Ваше сообщение было успешно отправлено!</p>",this.reloadCaptcha(),this.$data.visible=!1)}}},A={id:"component-contact"},O={class:"contentheading"},R={width:"100%",cellpadding:"0",cellspacing:"0",border:"0",class:"contentpaneopen"},z={colspan:"2"},J={action:"javascript:void(null);",method:"post",name:"emailForm",id:"emailForm",class:"form-validate"},K=["value"],Q=["innerHTML"],W=["innerHTML"],X={class:"contact_email"},Y={class:"mb-4"};function Z(s,e,h,b,t,c){const d=l("Head"),p=l("Link"),v=l("GoogleCaptcha"),f=l("LabelInput"),k=l("LabelTextarea"),x=l("Checkbox"),y=l("SubmitButton");return m(),u(T,null,[n(d,{title:"Обратная связь, Земля как планета"}),e[14]||(e[14]=a("div",{class:"componentheading"},null,-1)),a("div",A,[e[13]||(e[13]=a("div",{class:"componentheading"},null,-1)),a("h2",O,[n(p,{href:s.route("feedback"),class:"contentpagetitle"},{default:i(()=>e[6]||(e[6]=[r("Обратная связь")])),_:1},8,["href"])]),a("table",R,[a("tr",null,[a("td",z,[a("form",J,[a("input",{type:"hidden",name:"_token",autocomplete:"off",value:s.$attrs.csrf_field},null,8,K),s.success?(m(),u("div",{key:0,class:"success-text",innerHTML:s.success},null,8,Q)):g("",!0),s.errors?(m(),u("div",{key:1,class:"error-text",innerHTML:s.errors},null,8,W)):g("",!0),n(v,{ref:"googleCaptcha"},null,512),_(a("div",X,[n(f,{ref:"name",modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.name=o),type:"text",name:"name",id:"contact_name"},{default:i(()=>e[7]||(e[7]=[r(" Введите ваше имя:")])),_:1},8,["modelValue"]),n(f,{ref:"email",modelValue:t.email,"onUpdate:modelValue":e[1]||(e[1]=o=>t.email=o),type:"text",name:"name",id:"contact_email"},{default:i(()=>e[8]||(e[8]=[r(" E-mail адрес:")])),_:1},8,["modelValue"]),n(f,{ref:"subject",modelValue:t.subject,"onUpdate:modelValue":e[2]||(e[2]=o=>t.subject=o),type:"text",name:"subject",id:"contact_subject"},{default:i(()=>e[9]||(e[9]=[r(" Тема сообщения:")])),_:1},8,["modelValue"]),n(k,{ref:"message",modelValue:t.message,"onUpdate:modelValue":e[3]||(e[3]=o=>t.message=o),name:"message",id:"contact_message"},{default:i(()=>e[10]||(e[10]=[r(" Введите текст вашего сообщения:")])),_:1},8,["modelValue"]),a("div",Y,[n(x,{name:"copy",modelValue:t.copy,"onUpdate:modelValue":e[4]||(e[4]=o=>t.copy=o),id:"contact_email_copy",value:"1"},null,8,["modelValue"]),e[11]||(e[11]=a("label",{for:"contact_email_copy"},"Отправить копию этого сообщения на ваш адрес",-1))]),a("div",null,[n(y,{onClick:e[5]||(e[5]=M(o=>{c.send()},["prevent"]))},{default:i(()=>e[12]||(e[12]=[r("Отправить")])),_:1})])],512),[[$,t.visible]])])])])])])],64)}const oe=G(q,[["render",Z]]);export{oe as default};
