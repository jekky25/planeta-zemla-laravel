import{M as y}from"./MainLayout-C5e8uTbm.js";import{h as j,i as _,v as C,o as u,f as c,P as $,j as l,a as n,b as s,w as i,e as r,g,k as L,d as M,F as T}from"./app-C6Rgg8Ex.js";import{c as B,a as S,b as w,L as E,d as H,_ as U,e as F,S as I,G as N}from"./ajax-BdnOo1R0.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=["value"],D={__name:"Checkbox",props:{checked:{type:[Array,Boolean],required:!0},value:{default:null}},emits:["update:checked"],setup(t,{emit:e}){const h=e,b=t,a=j({get(){return b.checked},set(d){h("update:checked",d)}});return(d,m)=>_((u(),c("input",{type:"checkbox",value:t.value,"onUpdate:modelValue":m[0]||(m[0]=p=>a.value=p),class:"mr-2 border inputbox rounded focus:text-blue-600 ring-offset-0"},null,8,P)),[[C,a.value]])}},q={name:"Page",components:{Link:$,GoogleCaptcha:N,SubmitButton:I,TextInput:F,Textarea:U,Checkbox:D,LabelInput:H,LabelTextarea:E},layout:y,props:[],data(){return{name:"",subject:"",email:"",message:"",proba:"",recaptcha_response:"",visible:!0,data:Object}},mixins:[B,S,w],methods:{getData(){this.$data.name=this.$refs.name.get(),this.$data.email=this.$refs.email.get(),this.$data.subject=this.$refs.subject.get(),this.$data.message=this.$refs.message.get(),this.$data._token=this.csrf_field,this.recaptcha_response=document.getElementById("recaptchaResponse").value},send(){return this.clearParams(),this.checkName(this.$refs.name.get()),this.checkSubject(this.$refs.subject.get()),this.checkEMail(this.$refs.email.get()),this.checkMessage(this.$refs.message.get()),this.isError()||(this.getData(),this.ajax(route("feedback",this.$data))),!1},ajaxError(t){this.$data.errors+="<p>"+t.response.data.message+"</p>",this.reloadCaptcha()},ajaxSuccess(t){t.data.success==1&&(this.success="<p>Ваше сообщение было успешно отправлено!</p>",this.reloadCaptcha(),this.$data.visible=!1)}}},A={id:"component-contact"},O={class:"contentheading"},R={width:"100%",cellpadding:"0",cellspacing:"0",border:"0",class:"contentpaneopen"},z={colspan:"2"},J={action:"javascript:void(null);",method:"post",name:"emailForm",id:"emailForm",class:"form-validate"},K=["value"],Q=["innerHTML"],W=["innerHTML"],X={class:"contact_email"},Y={class:"mb-4"};function Z(t,e,h,b,a,d){const m=l("Head"),p=l("Link"),v=l("GoogleCaptcha"),f=l("LabelInput"),k=l("LabelTextarea"),x=l("Checkbox"),V=l("SubmitButton");return u(),c(T,null,[n(m,{title:"Обратная связь, Земля как планета"}),e[14]||(e[14]=s("div",{class:"componentheading"},null,-1)),s("div",A,[e[13]||(e[13]=s("div",{class:"componentheading"},null,-1)),s("h2",O,[n(p,{href:t.route("feedback"),class:"contentpagetitle"},{default:i(()=>e[6]||(e[6]=[r("Обратная связь")])),_:1},8,["href"])]),s("table",R,[s("tr",null,[s("td",z,[s("form",J,[s("input",{type:"hidden",name:"_token",autocomplete:"off",value:t.$attrs.csrf_field},null,8,K),t.success?(u(),c("div",{key:0,class:"success-text",innerHTML:t.success},null,8,Q)):g("",!0),t.errors?(u(),c("div",{key:1,class:"error-text",innerHTML:t.errors},null,8,W)):g("",!0),n(v,{ref:"googleCaptcha"},null,512),_(s("div",X,[n(f,{ref:"name",modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=o=>a.name=o),type:"text",name:"name",id:"contact_name"},{default:i(()=>e[7]||(e[7]=[r(" Введите ваше имя:")])),_:1},8,["modelValue"]),n(f,{ref:"email",modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=o=>a.email=o),type:"text",name:"name",id:"contact_email"},{default:i(()=>e[8]||(e[8]=[r(" E-mail адрес:")])),_:1},8,["modelValue"]),n(f,{ref:"subject",modelValue:a.subject,"onUpdate:modelValue":e[2]||(e[2]=o=>a.subject=o),type:"text",name:"subject",id:"contact_subject"},{default:i(()=>e[9]||(e[9]=[r(" Тема сообщения:")])),_:1},8,["modelValue"]),n(k,{ref:"message",modelValue:a.message,"onUpdate:modelValue":e[3]||(e[3]=o=>a.message=o),name:"message",id:"contact_message"},{default:i(()=>e[10]||(e[10]=[r(" Введите текст вашего сообщения:")])),_:1},8,["modelValue"]),s("div",Y,[n(x,{name:"copy",modelValue:t.copy,"onUpdate:modelValue":e[4]||(e[4]=o=>t.copy=o),id:"contact_email_copy",value:"1"},null,8,["modelValue"]),e[11]||(e[11]=s("label",{for:"contact_email_copy"},"Отправить копию этого сообщения на ваш адрес",-1))]),s("div",null,[n(V,{onClick:e[5]||(e[5]=M(o=>{d.send()},["prevent"]))},{default:i(()=>e[12]||(e[12]=[r("Отправить")])),_:1})])],512),[[L,a.visible]])])])])])])],64)}const oe=G(q,[["render",Z]]);export{oe as default};
