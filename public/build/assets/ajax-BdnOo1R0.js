import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as s,o as r,r as c,p as f,i as g,q as _,j as m,b as i,a as h}from"./app-C6Rgg8Ex.js";const $={props:["sitekey"],methods:{initReCaptcha(){var e=this.$page.props.config.google_recaptcha_key;setTimeout(function(){if(typeof grecaptcha>"u"){var t=this;t.initReCaptcha()}else grecaptcha.ready(function(){grecaptcha.execute(e,{action:"contact"}).then(function(n){var a=document.getElementById("recaptchaResponse");a.value=n})})},1e4)}},mounted(){document.contains(document.getElementById("recaptcha"))&&document.getElementById("recaptcha").remove();let e=document.createElement("script");e.setAttribute("id","recaptcha"),e.setAttribute("src","https://www.google.com/recaptcha/api.js?render="+this.$page.props.config.google_recaptcha_key),document.head.appendChild(e);var t=this;this.$nextTick(function(){t.initReCaptcha()})}},x=["value"];function y(e,t,n,a,o,d){return r(),s("input",{type:"hidden",name:"recaptcha_response",value:e.$page.props.config.google_recaptcha_key,id:"recaptchaResponse"},null,8,x)}const M=p($,[["render",y]]),b={},v={class:"button validate bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"submit"};function S(e,t){return r(),s("button",v,[c(e.$slots,"default")])}const q=p(b,[["render",S]]),V=["value"],k={__name:"TextInput",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(e){return(t,n)=>(r(),s("input",{size:"30",class:"shadow appearance-none border inputbox rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:e.modelValue,onInput:n[0]||(n[0]=a=>t.$emit("update:modelValue",a.target.value))},null,40,V))}},w={__name:"Textarea",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=f(e,"modelValue");return(n,a)=>g((r(),s("textarea",{class:"inputbox required rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline border-transparent focus:border-transparent","onUpdate:modelValue":a[0]||(a[0]=o=>t.value=o)},null,512)),[[_,t.value]])}},T={name:"LabelInput",components:{TextInput:k},data(){return{inputName:"",data:Object}},props:{id:{type:String,default:null},type:{type:String,default:null},name:{type:String,default:null},model:{type:String,default:null}},methods:{get(){return this.inputName}}},I={class:"mb-4"},j=["for"];function E(e,t,n,a,o,d){const u=m("TextInput");return r(),s("div",I,[i("label",{for:this.id},[c(e.$slots,"default")],8,j),t[1]||(t[1]=i("br",null,null,-1)),h(u,{modelValue:o.inputName,"onUpdate:modelValue":t[0]||(t[0]=l=>o.inputName=l),type:this.type,name:this.name,id:this.id,ref:"InputField"},null,8,["modelValue","type","name","id"])])}const U=p(T,[["render",E]]),N={name:"LabelTextarea",components:{Textarea:w},data(){return{inputName:"",data:Object}},props:{id:{type:String,default:null},name:{type:String,default:null},model:{type:String,default:null},rows:{type:String,default:2}},methods:{get(){return this.inputName}}},C={class:"mb-4"},B=["for"];function R(e,t,n,a,o,d){const u=m("Textarea");return r(),s("div",C,[i("label",{for:this.id},[c(e.$slots,"default")],8,B),t[1]||(t[1]=i("br",null,null,-1)),h(u,{modelValue:o.inputName,"onUpdate:modelValue":t[0]||(t[0]=l=>o.inputName=l),name:this.name,id:this.id,ref:"InputField",rows:this.rows},null,8,["modelValue","name","id","rows"])])}const A=p(N,[["render",R]]),F={data(){return{errors:"",success:"",regexpEmail:/^(?:[a-z0-9._]+(?:[-_.]?[a-z0-9._]+)?@[a-z0-9_.-]+(?:\.?[a-z0-9]+)?\.[a-z]{2,5})$/i}},methods:{clearParams(){this.$data.errors="",this.$data.success=""},checkName(e){e.length<2&&(this.$data.errors+="<p>Имя не введено</p>")},checkEMail(e){e.match(this.$data.regexpEmail)||(this.$data.errors+="<p>Некорректно введен е-майл</p>")},checkMessage(e){e.length<2&&(this.$data.errors+="<p>Не введено сообщение</p>")},checkSubject(e){e.length<2&&(this.$data.errors+="<p>Тема не введена</p>")},isError(){return this.$data.errors!=""}}},G={methods:{reloadCaptcha(){this.$refs.googleCaptcha.initReCaptcha()}}},O={methods:{ajax(e){return axios.post(e).then(t=>{this.ajaxSuccess(t)}).catch(t=>{this.ajaxError(t)}),!1},ajaxError(e){this.$data.errors+="<p>"+e.response.data.message+"</p>"},ajaxSuccess(e){}}};export{M as G,A as L,q as S,w as _,G as a,O as b,F as c,U as d,k as e};
